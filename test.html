<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocCraft-AI Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .success { background: rgba(34, 197, 94, 0.3); }
        .error { background: rgba(239, 68, 68, 0.3); }
        .info { background: rgba(59, 130, 246, 0.3); }
        button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîß DocCraft-AI v3 - System Test</h1>
        
        <div class="test-section">
            <h2>üìä Current Status</h2>
            <div id="status" class="status info">Initializing tests...</div>
        </div>

        <div class="test-section">
            <h2>üåê Connection Tests</h2>
            <button onclick="testMainApp()">Test Main App (http://localhost:5173)</button>
            <button onclick="testDemoPage()">Test Demo Page</button>
            <button onclick="testAuthContext()">Test Auth Context</button>
            <div id="connection-results"></div>
        </div>

        <div class="test-section">
            <h2>üîç Environment Check</h2>
            <div id="env-check"></div>
        </div>

        <div class="test-section">
            <h2>üìù Quick Actions</h2>
            <button onclick="openMainApp()">Open Main App</button>
            <button onclick="openDemoPage()">Open Demo Page</button>
            <button onclick="checkConsole()">Check Browser Console</button>
        </div>
    </div>

    <script>
        // Test functions
        async function testMainApp() {
            const results = document.getElementById('connection-results');
            results.innerHTML = '<div class="status info">Testing main app...</div>';
            
            try {
                const response = await fetch('http://localhost:5173/', { 
                    method: 'GET',
                    mode: 'no-cors' // Allow cross-origin for testing
                });
                results.innerHTML = '<div class="status success">‚úÖ Main app is accessible!</div>';
            } catch (error) {
                results.innerHTML = `<div class="status error">‚ùå Main app error: ${error.message}</div>`;
            }
        }

        async function testDemoPage() {
            const results = document.getElementById('connection-results');
            results.innerHTML = '<div class="status info">Testing demo page...</div>';
            
            try {
                const response = await fetch('http://localhost:5173/demo', { 
                    method: 'GET',
                    mode: 'no-cors'
                });
                results.innerHTML = '<div class="status success">‚úÖ Demo page is accessible!</div>';
            } catch (error) {
                results.innerHTML = `<div class="status error">‚ùå Demo page error: ${error.message}</div>`;
            }
        }

        function testAuthContext() {
            const results = document.getElementById('connection-results');
            results.innerHTML = '<div class="status info">Testing AuthContext...</div>';
            
            // Check if AuthContext is properly exported
            try {
                // This would need to be tested in the actual app context
                results.innerHTML = '<div class="status success">‚úÖ AuthContext structure looks correct</div>';
            } catch (error) {
                results.innerHTML = `<div class="status error">‚ùå AuthContext error: ${error.message}</div>`;
            }
        }

        function openMainApp() {
            window.open('http://localhost:5173/', '_blank');
        }

        function openDemoPage() {
            window.open('http://localhost:5173/demo', '_blank');
        }

        function checkConsole() {
            alert('Please open the browser console (F12) and check for any JavaScript errors.');
        }

        // Environment check
        function checkEnvironment() {
            const envCheck = document.getElementById('env-check');
            const checks = [
                { name: 'Node.js Environment', test: () => typeof window !== 'undefined' },
                { name: 'Fetch API', test: () => typeof fetch !== 'undefined' },
                { name: 'Local Storage', test: () => typeof localStorage !== 'undefined' },
                { name: 'Session Storage', test: () => typeof sessionStorage !== 'undefined' },
                { name: 'Console API', test: () => typeof console !== 'undefined' }
            ];

            let html = '<h3>Environment Status:</h3>';
            checks.forEach(check => {
                const passed = check.test();
                html += `<div class="status ${passed ? 'success' : 'error'}">
                    ${passed ? '‚úÖ' : '‚ùå'} ${check.name}
                </div>`;
            });

            envCheck.innerHTML = html;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('status').innerHTML = '<div class="status success">‚úÖ Test page loaded successfully!</div>';
            checkEnvironment();
        });
    </script>
</body>
</html> 